<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="utf-8">
		<meta name="description" content="Tairesh's personal page">
		<title>Tairesh</title>
		<meta property="og:title" content="Tairesh">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://tairesh.ml">
		<meta property="og:image" content="https://tairesh.ml/img/preview.jpg">
		<meta property="og:image:width" content="1200">
		<meta property="og:image:height" content="600">
		<meta name="theme-color" content="#ffce3e">
		<link rel="canonical" href="https://tairesh.ml">
		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="icon" type="image/png" sizes="32x32" href="/img/lemon32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/img/lemon16.png">
		<link rel="icon" type="image/png" sizes="128x128" href="/img/lemon128.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/img/lemon180.png">
		<meta name="msapplication-TileImage" content="https://tairesh.ml/img/lemon512.png">
		<meta property="twitter:image" content="https://tairesh.ml/img/preview.jpg">
		<style>
			*, *:before, *:after { box-sizing: border-box; }
			html { height: 100%; overflow-y: auto; overflow-x: hidden; }
			body { display: block; margin: 0; height: auto; min-height: 100%; position: relative; font-size: 1rem; line-height: 1.6; color: #111111; font-family: 'Ubuntu', 'Open Sans', sans-serif; }
			body.dark { background-color: #111; color: #eee; }
			.main-section { height: 100vh; justify-content: center; display: flex !important; flex-direction: column; }
			.content { pointer-events: none; min-height: 360px; justify-content: center; display: flex !important; flex-direction: column; margin: 0 auto; width: 1140px; }
			.content:before, .content:after { content: ''; display: table; }
			.line-horizontal { width: 194px; margin: 60px auto 0 0; border-width: 6px 0 0 0; border-color: #ffce3e; border-style: solid; }
			.motto { font-size: 3.5rem; margin: 30px 30px 0 0; line-height: 1.1; font-weight: bold; word-wrap: normal; font-family: Ubuntu,Roboto,sans-serif; pointer-events: all; cursor: default; }
			.text { margin: 20px 218px 60px 0; }
			a { pointer-events: auto; color: #ffce3e; text-decoration: none; }
			@media (min-width: 1200px) {
				.content { width: 1140px; }
			}
			@media (min-width: 992px) and (max-width: 1199px) {
				.content { width: 940px; }
			}
			@media (min-width: 768px) and (max-width: 991px) {
				.content { width: 720px; }
				.text, .motto { margin-right: 0; }
				.motto { font-size: 2.8rem; }
			}
			@media (min-width: 576px) and (max-width: 767px) {
				.content { width: 540px; }
				.text, .motto { margin-right: 0; }
				.motto { font-size: 2.1rem; }
			}
			@media (max-width: 575px) {
				.content { width: 340px; }
				.text, .motto { margin-right: 0; }
				.motto { font-size: 1.3rem; }
			}
		</style>
	</head>
	<body>
		<section class="main-section" id="main-section">
			<div class="content">
				<div class="line-horizontal"></div>
				<h1 class="motto" id="motto">Loading funny text...</h1>
				<p class="text">Telegram: <a href="https://t.me/tairesh">@Tairesh</a></p>
			</div>
		</section>
		<script>

			// dark-mode media query matched or not
			let darkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
			if(darkMode) document.body.classList.add('dark');

			function httpGetAsync(url, callback)
			{
				var xmlHttp = new XMLHttpRequest();
				xmlHttp.onreadystatechange = function() { 
					if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
						callback(xmlHttp.responseText);
				}
				xmlHttp.open("GET", url, true); // true for asynchronous 
				xmlHttp.send(null);
			}

			function shuffle(list) {
				for (let i = list.length - 1; i > 0; i--) {
					let j = Math.floor(Math.random() * (i + 1));
					[list[i], list[j]] = [list[j], list[i]];
				}
			}

			function updateMotto() {
				const mottos = window.sessionStorage.getItem('mottos').split('\n');
				let block =  document.getElementById('motto');
				if (mottos.length > 0) {
					block.innerHTML = mottos.pop();
					window.sessionStorage.setItem('mottos', mottos.join('\n'))
				} else {
					block.innerHTML = "No more funny texts, sorry";
					block.onclick = function() { return false };
				}
			}

			(function() {
				httpGetAsync("/mottos.txt", function(text) {
					const mottos = text.split(/\r?\n/);
					if ((new Date()).getDay() == 3)
						mottos.push("It is wednesday my&nbsp;dudes");
					shuffle(mottos);
					window.sessionStorage.setItem('mottos', mottos.join('\n'));
					updateMotto();
					document.getElementById('motto').onclick = updateMotto
				})
			})()
		</script>
	</body>
</html>

